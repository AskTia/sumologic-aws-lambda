{
    "type": "FolderSyncDefinition",
    "name": "AWS Application Load Balancer",
    "description": "The Sumo Logic App for AWS Application Load Balancer is a unified logs and metrics (ULM) App that gives you visibility into the health of your Application Load Balancer and target groups. Use the preconfigured dashboards to understand the latency, request and host status, threat intel, and HTTP backend codes by availability zone and target group.",
    "children": [
        {
            "type": "MewboardSyncDefinition",
            "name": "1. AWS Application Load Balancer - 4XX and 5XX Code Analysis",
            "description": "See the details of 4XX and 5XX codes in your Application load balancer by client location, domain, and target status.",
            "title": "1. AWS Application Load Balancer - 4XX and 5XX Code Analysis",
            "rootPanel": {
                "id": null,
                "key": "panela41a5e998f33ab4f",
                "title": "",
                "visualSettings": "",
                "keepVisualSettingsConsistentWithParent": true,
                "panelType": "ContainerPanel",
                "layout": {
                    "layoutType": "Grid",
                    "layoutStructures": [
                        {
                            "key": "panelpane-895a18889fe7db47",
                            "structure": "{\"height\":1,\"width\":12,\"x\":0,\"y\":0}"
                        },
                        {
                            "key": "panelpane-635d349bb6b57843",
                            "structure": "{\"height\":1,\"width\":12,\"x\":12,\"y\":0}"
                        },
                        {
                            "key": "panelpane-e81bb951ad412b48",
                            "structure": "{\"height\":6,\"width\":6,\"x\":12,\"y\":1}"
                        },
                        {
                            "key": "panelpane-2bac2294b4090a4b",
                            "structure": "{\"height\":6,\"width\":6,\"x\":0,\"y\":1}"
                        },
                        {
                            "key": "panelpane-979be3edbdc10a48",
                            "structure": "{\"height\":6,\"width\":6,\"x\":6,\"y\":1}"
                        },
                        {
                            "key": "panelpane-7e45cf3f87add84e",
                            "structure": "{\"height\":6,\"width\":6,\"x\":18,\"y\":1}"
                        },
                        {
                            "key": "panelpane-ea1c16298c32a84b",
                            "structure": "{\"height\":6,\"width\":12,\"x\":12,\"y\":25}"
                        },
                        {
                            "key": "panelpane-cc3a040abad8e841",
                            "structure": "{\"height\":6,\"width\":12,\"x\":0,\"y\":25}"
                        },
                        {
                            "key": "panelpane-09bf22fa816f9944",
                            "structure": "{\"height\":6,\"width\":12,\"x\":12,\"y\":7}"
                        },
                        {
                            "key": "panelpane-61881510acfa9a4c",
                            "structure": "{\"height\":6,\"width\":12,\"x\":0,\"y\":7}"
                        },
                        {
                            "key": "panelpane-cfb95953b2856946",
                            "structure": "{\"height\":6,\"width\":12,\"x\":12,\"y\":19}"
                        },
                        {
                            "key": "panelpane-f8bc8896b788284c",
                            "structure": "{\"height\":6,\"width\":12,\"x\":0,\"y\":19}"
                        },
                        {
                            "key": "panelpane-def8964f8d45694f",
                            "structure": "{\"height\":6,\"width\":12,\"x\":0,\"y\":13}"
                        },
                        {
                            "key": "panelpane-3b41f830bd29a942",
                            "structure": "{\"height\":6,\"width\":12,\"x\":12,\"y\":13}"
                        }
                    ]
                },
                "panels": [
                    {
                        "id": null,
                        "key": "panelpane-895a18889fe7db47",
                        "title": "Load Balancer - 4xx and 5xx Codes",
                        "visualSettings": "{\"text\":{\"backgroundColor\":\"#abb8c3\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "TextPanel",
                        "text": ""
                    },
                    {
                        "id": null,
                        "key": "panelpane-635d349bb6b57843",
                        "title": "Target Group - 4xx and 5xx Codes",
                        "visualSettings": "{\"text\":{\"backgroundColor\":\"#abb8c3\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "TextPanel",
                        "text": ""
                    },
                    {
                        "id": null,
                        "key": "panelpane-e81bb951ad412b48",
                        "title": "5xx Codes by Load Balancer",
                        "visualSettings": "{\"general\":{\"type\":\"honeyComb\"},\"honeyComb\":{\"aggregationType\":\"sum\",\"thresholds\":[{\"from\":0,\"to\":10,\"color\":\"#ffb5b5\"},{\"from\":10,\"to\":50,\"color\":\"#ff5d5d\"},{\"from\":50,\"to\":null,\"color\":\"#bf2121\"}]}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "Namespace={{namespace}} metric=HTTPCode_Target_5XX_Count  Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} account={{account}} entity={{entity}} | sum by entity,Region",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-2bac2294b4090a4b",
                        "title": "5xx Codes by Load Balancer",
                        "visualSettings": "{\"general\":{\"type\":\"honeyComb\"},\"honeyComb\":{\"aggregationType\":\"sum\",\"thresholds\":[{\"from\":0,\"to\":10,\"color\":\"#ffb5b5\"},{\"from\":10,\"to\":50,\"color\":\"#ff5d5d\"},{\"from\":50,\"to\":null,\"color\":\"#bf2121\"}]}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "Namespace={{namespace}} metric=HTTPCode_ELB_5XX_Count  Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | sum by entity,Region",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-979be3edbdc10a48",
                        "title": "4xx Codes by Load Balancer",
                        "visualSettings": "{\"general\":{\"type\":\"honeyComb\"},\"honeyComb\":{\"aggregationType\":\"sum\",\"thresholds\":[{\"from\":0,\"to\":10,\"color\":\"#ffb5b5\"},{\"from\":10,\"to\":50,\"color\":\"#ff5d5d\"},{\"from\":50,\"to\":null,\"color\":\"#bf2121\"}]}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "Namespace={{namespace}} metric=HTTPCode_ELB_4XX_Count  Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | sum by entity,Region",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-7e45cf3f87add84e",
                        "title": "4xx Codes by Load Balancer",
                        "visualSettings": "{\"general\":{\"type\":\"honeyComb\"},\"honeyComb\":{\"aggregationType\":\"sum\",\"thresholds\":[{\"from\":0,\"to\":10,\"color\":\"#ffb5b5\"},{\"from\":10,\"to\":50,\"color\":\"#ff5d5d\"},{\"from\":50,\"to\":null,\"color\":\"#bf2121\"}]}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "Namespace={{namespace}} metric=HTTPCode_Target_4XX_Count  Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | sum by entity,Region",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-ea1c16298c32a84b",
                        "title": "Target Group Codes by URI",
                        "visualSettings": "{\"general\":{\"mode\":\"distribution\",\"type\":\"table\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse field=request \"* *://*:*/* HTTP\" as method, protocol, domain, server_port, uri \n| parse regex field=target_group_arn \":(?<region>[^:]+):\\d{6,}:(?<targetgroup>targetgroup.*)$\" nodrop\n| parse field=client \"*:*\" as clientIP, port nodrop \n| parse field=backend \"*:*\" as backendIP, backend_port nodrop \n| fields - request, client, backend\n| where (target_status_code matches \"5*\") or (target_status_code matches \"4*\") \n| if (target_status_code matches \"5*\",1,0) as target_5XX\n| if (target_status_code matches \"4*\",1,0) as target_4XX\n| sum(target_4XX) as target_4XX, sum(target_5XX) as target_5XX by uri\n| (target_4XX + target_5XX) as total_errors\n| limit 20\n| sort by target_5XX, total_errors",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-cc3a040abad8e841",
                        "title": "Load Balancer Codes by URI",
                        "visualSettings": "{\"general\":{\"mode\":\"distribution\",\"type\":\"table\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse field=request \"* *://*:*/* HTTP\" as method, protocol, domain, server_port, uri\n| where (elb_status_code matches \"5*\") or (elb_status_code matches \"4*\") \n| if (elb_status_code matches \"5*\",1,0) as ELB_5XX\n| if (elb_status_code matches \"4*\",1,0) as ELB_4XX\n| sum(ELB_4XX) as ELB_4XX, sum(ELB_5XX) as ELB_5XX by uri\n| (ELB_4XX + ELB_5XX) as total_errors\n| limit 20\n| sort by ELB_5XX, total_errors",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-09bf22fa816f9944",
                        "title": "Target Group HTTP 5XX",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"color\":{\"family\":\"scheme7\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse field=request \"* *://*:*/* HTTP\" as method, protocol, domain, server_port, uri \n| parse regex field=target_group_arn \":(?<region>[^:]+):\\d{6,}:(?<targetgroup>targetgroup.*)$\" nodrop\n| parse field=client \"*:*\" as clientIP, port nodrop \n| parse field=backend \"*:*\" as backendIP, backend_port nodrop \n| fields - request, client, target_group_arn\n| where (target_status_code matches \"5*\") \n| timeslice 1m\n| count as Backend_Errors by _timeslice",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": {
                            "type": "BeginBoundedTimeRange",
                            "from": {
                                "type": "RelativeTimeRangeBoundary",
                                "relativeTime": "-1d"
                            },
                            "to": null
                        },
                        "timerange": null,
                        "timerangeTemp": {
                            "type": "BeginBoundedTimeRange",
                            "from": {
                                "type": "RelativeTimeRangeBoundary",
                                "relativeTime": "-1d"
                            },
                            "to": null
                        },
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-61881510acfa9a4c",
                        "title": "Load Balancer HTTP 5XX",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"color\":{\"family\":\"scheme7\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse field=request \"* *://*:*/* HTTP\" as method, protocol, domain, server_port, uri \n| parse regex field=target_group_arn \":(?<region>[^:]+):\\d{6,}:(?<targetgroup>targetgroup.*)$\" nodrop\n| parse field=client \"*:*\" as clientIP, port nodrop \n| parse field=backend \"*:*\" as backendIP, backend_port nodrop \n| fields - request, client, target_group_arn\n| where (elb_status_code matches \"5*\") \n| timeslice 1m\n| count as Load_Balancers_Errors by _timeslice",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": {
                            "type": "BeginBoundedTimeRange",
                            "from": {
                                "type": "RelativeTimeRangeBoundary",
                                "relativeTime": "-1d"
                            },
                            "to": null
                        },
                        "timerange": null,
                        "timerangeTemp": {
                            "type": "BeginBoundedTimeRange",
                            "from": {
                                "type": "RelativeTimeRangeBoundary",
                                "relativeTime": "-1d"
                            },
                            "to": null
                        },
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-cfb95953b2856946",
                        "title": "Target Group Codes by Domain",
                        "visualSettings": "{\"general\":{\"mode\":\"distribution\",\"type\":\"table\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse field=request \"* *://*:*/* HTTP\" as method, protocol, domain, server_port, uri \n| parse regex field=target_group_arn \":(?<region>[^:]+):\\d{6,}:(?<targetgroup>targetgroup.*)$\" nodrop\n| parse field=client \"*:*\" as clientIP, port nodrop \n| parse field=backend \"*:*\" as backendIP, backend_port nodrop \n| fields - request, client, backend\n| where (target_status_code matches \"5*\") or (target_status_code matches \"4*\") \n| if (target_status_code matches \"5*\",1,0) as target_5XX\n| if (target_status_code matches \"4*\",1,0) as target_4XX\n| sum(target_4XX) as target_4XX, sum(target_5XX) as target_5XX by domain\n| limit 20\n| sort by target_5XX",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-f8bc8896b788284c",
                        "title": "Load Balancer Codes by Domain",
                        "visualSettings": "{\"general\":{\"mode\":\"distribution\",\"type\":\"table\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse field=request \"* *://*:*/* HTTP\" as method, protocol, domain, server_port, uri \n| parse regex field=target_group_arn \":(?<region>[^:]+):\\d{6,}:(?<targetgroup>targetgroup.*)$\" nodrop\n| parse field=client \"*:*\" as clientIP, port nodrop \n| parse field=backend \"*:*\" as backendIP, backend_port nodrop \n| fields - request, client, backend\n| where (elb_status_code matches \"5*\") or (elb_status_code matches \"4*\") \n| if (elb_status_code matches \"5*\",1,0) as ELB_5XX\n| if (elb_status_code matches \"4*\",1,0) as ELB_4XX\n| sum(ELB_4XX) as ELB_4XX, sum(ELB_5XX) as ELB_5XX by domain\n| limit 20\n| sort by ELB_5XX",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-def8964f8d45694f",
                        "title": "Top 10 Client IPs",
                        "visualSettings": "{\"general\":{\"mode\":\"distribution\",\"type\":\"bar\",\"fillOpacity\":1,\"innerRadius\":30,\"maxNumOfSlices\":10,\"startAngle\":-90,\"fontSize\":12,\"paginationPageSize\":100,\"displayType\":\"default\"},\"legend\":{\"enabled\":false},\"color\":{\"family\":\"scheme7\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse field=request \"* *://*:*/* HTTP\" as method, protocol, domain, server_port, uri \n| parse regex field=target_group_arn \":(?<region>[^:]+):\\d{6,}:(?<targetgroup>targetgroup.*)$\" nodrop\n| parse field=client \"*:*\" as clientIP, port nodrop \n| parse field=backend \"*:*\" as backendIP, backend_port nodrop \n| fields - request, client, backend\n| where (elb_status_code matches \"5*\") or (elb_status_code matches \"4*\") \n| if (elb_status_code matches \"5*\",1,0) as elb_5XX\n| if (elb_status_code matches \"4*\",1,0) as elb_4XX\n| sum(elb_4XX) as elb_4XX, sum(elb_5XX) as elb_5XX by clientIP | (elb_4xx+elb_5XX) as elb_total\n| filter clientIP in (order by elb_total | limit 10)\n| order by elb_total | fields - elb_total | limit 10",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-3b41f830bd29a942",
                        "title": "Top 10 Backend IPs",
                        "visualSettings": "{\"general\":{\"mode\":\"distribution\",\"type\":\"bar\"},\"legend\":{\"enabled\":false},\"color\":{\"family\":\"scheme7\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse field=request \"* *://*:*/* HTTP\" as method, protocol, domain, server_port, uri \n| parse regex field=target_group_arn \":(?<region>[^:]+):\\d{6,}:(?<targetgroup>targetgroup.*)$\" nodrop\n| parse field=client \"*:*\" as clientIP, port nodrop \n| parse field=backend \"*:*\" as backendIP, backend_port nodrop \n| fields - request, client, backend\n| where (target_status_code matches \"5*\") or (target_status_code matches \"4*\") \n| if (target_status_code matches \"5*\",1,0) as target_5XX\n| if (target_status_code matches \"4*\",1,0) as target_4XX\n| sum(target_4XX) as target_4XX, sum(target_5XX) as target_5XX by backendIP | (target_4XX+target_5XX) as target_total\n| filter backendIP in (order by target_total | limit 10)\n| order by target_total | fields - target_total | limit 10",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    }
                ],
                "variables": [
                    {
                        "id": null,
                        "name": "account",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "",
                            "key": "account"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "region",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}}",
                            "key": "region"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "namespace",
                        "displayName": null,
                        "defaultValue": "aws/applicationelb",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}} region={{region}}",
                            "key": "namespace"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "entity",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}} region={{region}} availabilityzone={{availabilityZone}} namespace={{namespace}}",
                            "key": "entity"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "availabilityZone",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}} region={{region}}",
                            "key": "availabilityzone"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "targetGroup",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "",
                            "key": "targetgroup"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "collector",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "",
                            "key": "_collector"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "sourceHost",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "",
                            "key": "_sourcehost"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    }
                ],
                "coloringRules": []
            },
            "theme": "light",
            "topologyLabelMap": {
                "data": {
                    "namespace": [
                        "aws/applicationelb"
                    ],
                    "region": [
                        "*"
                    ],
                    "entity": [
                        "*"
                    ],
                    "account": [
                        "*"
                    ]
                }
            },
            "refreshInterval": 0,
            "timeRange": {
                "type": "BeginBoundedTimeRange",
                "from": {
                    "type": "RelativeTimeRangeBoundary",
                    "relativeTime": "-1h"
                },
                "to": null
            },
            "layout": null,
            "panels": null,
            "variables": null,
            "coloringRules": null
        },
        {
            "type": "MewboardSyncDefinition",
            "name": "2. AWS Application Load Balancer - Latency",
            "description": "See the details of latency in your application load balancer by target group, availability zone, and load balancer.",
            "title": "2. AWS Application Load Balancer - Latency",
            "rootPanel": {
                "id": null,
                "key": "panel195f91b1828a8a42",
                "title": "",
                "visualSettings": "",
                "keepVisualSettingsConsistentWithParent": true,
                "panelType": "ContainerPanel",
                "layout": {
                    "layoutType": "Grid",
                    "layoutStructures": [
                        {
                            "key": "panelpane-1a1925a1b5e13849",
                            "structure": "{\"height\":1,\"width\":8,\"x\":0,\"y\":0}"
                        },
                        {
                            "key": "panelpane-8fb7ac20b210584f",
                            "structure": "{\"height\":6,\"width\":8,\"x\":0,\"y\":1}"
                        },
                        {
                            "key": "panelpane-622cb0ea9d2c294c",
                            "structure": "{\"height\":6,\"width\":8,\"x\":0,\"y\":7}"
                        },
                        {
                            "key": "panelpane-f020dfeea9e4e84e",
                            "structure": "{\"height\":1,\"width\":8,\"x\":8,\"y\":0}"
                        },
                        {
                            "key": "panelpane-69f3420e91b91944",
                            "structure": "{\"height\":1,\"width\":8,\"x\":16,\"y\":0}"
                        },
                        {
                            "key": "panelpane-e6386bc8b1c88948",
                            "structure": "{\"height\":6,\"width\":8,\"x\":8,\"y\":7}"
                        },
                        {
                            "key": "panelpane-c8a5e06687ad994b",
                            "structure": "{\"height\":6,\"width\":8,\"x\":8,\"y\":1}"
                        },
                        {
                            "key": "panelpane-9f87a4e8b4a7e840",
                            "structure": "{\"height\":6,\"width\":8,\"x\":16,\"y\":7}"
                        },
                        {
                            "key": "panelpane-0b5e5727a19aea4b",
                            "structure": "{\"height\":6,\"width\":8,\"x\":16,\"y\":1}"
                        },
                        {
                            "key": "panelpane-41abab5dbd7c294a",
                            "structure": "{\"height\":1,\"width\":24,\"x\":0,\"y\":13}"
                        },
                        {
                            "key": "panelpane-46aba672bb08b846",
                            "structure": "{\"height\":6,\"width\":12,\"x\":0,\"y\":14}"
                        },
                        {
                            "key": "panelpane-3ebb85e685bf1b4f",
                            "structure": "{\"height\":6,\"width\":12,\"x\":12,\"y\":14}"
                        },
                        {
                            "key": "panelpane-c1ca3098892bea40",
                            "structure": "{\"height\":6,\"width\":12,\"x\":0,\"y\":20}"
                        },
                        {
                            "key": "panelpane-c301d958990e694d",
                            "structure": "{\"height\":6,\"width\":12,\"x\":12,\"y\":20}"
                        }
                    ]
                },
                "panels": [
                    {
                        "id": null,
                        "key": "panelpane-1a1925a1b5e13849",
                        "title": "Target Group View",
                        "visualSettings": "{\"text\":{\"backgroundColor\":\"#abb8c3\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "TextPanel",
                        "text": ""
                    },
                    {
                        "id": null,
                        "key": "panelpane-8fb7ac20b210584f",
                        "title": "Average TargetResponseTime (sec) per TargetGroup",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"axes\":{\"axisY\":{\"title\":\"Seconds\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=TargetResponseTime Statistic=Average _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | parse field= TargetGroup */* as Unused, TargetGroup | avg by TargetGroup",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-622cb0ea9d2c294c",
                        "title": "Average RequestCount per TargetGroup",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"axes\":{\"axisY\":{\"title\":\"Request Count\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=RequestCount Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} account={{account}} entity={{entity}} | parse field= TargetGroup */* as Unused, TargetGroup | avg by TargetGroup",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-f020dfeea9e4e84e",
                        "title": "Load Balancer View",
                        "visualSettings": "{\"text\":{\"backgroundColor\":\"#abb8c3\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "TextPanel",
                        "text": ""
                    },
                    {
                        "id": null,
                        "key": "panelpane-69f3420e91b91944",
                        "title": "Availability Zone View",
                        "visualSettings": "{\"text\":{\"backgroundColor\":\"#abb8c3\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "TextPanel",
                        "text": ""
                    },
                    {
                        "id": null,
                        "key": "panelpane-e6386bc8b1c88948",
                        "title": "Average RequestCount per Load Balancer",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"axes\":{\"axisY\":{\"title\":\"Request Count\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=RequestCount Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} account={{account}} entity={{entity}} | avg by entity,Region",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-c8a5e06687ad994b",
                        "title": "Average TargetResponseTime (sec) per Load Balancer",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"axes\":{\"axisY\":{\"title\":\"Seconds\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=TargetResponseTime Statistic=Average _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} account={{account}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} entity={{entity}} | avg by entity,Region",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-9f87a4e8b4a7e840",
                        "title": "Average RequestCount per Availability Zone",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"axes\":{\"axisY\":{\"title\":\"Request Count\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=RequestCount Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} account={{account}} entity={{entity}} | avg by AvailabilityZone",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-0b5e5727a19aea4b",
                        "title": "Average TargetResponseTime (sec) per Availability Zone",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"axes\":{\"axisY\":{\"title\":\"Seconds\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=TargetResponseTime Statistic=Average _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} account={{account}} entity={{entity}} | avg by AvailabilityZone ",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-41abab5dbd7c294a",
                        "title": "Log - Latency by Backend",
                        "visualSettings": "{\"text\":{\"backgroundColor\":\"#abb8c3\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "TextPanel",
                        "text": ""
                    },
                    {
                        "id": null,
                        "key": "panelpane-46aba672bb08b846",
                        "title": "Log - Max and Average Total Client Latency by Target Group",
                        "visualSettings": "{\"general\":{\"mode\":\"distribution\",\"type\":\"column\",\"fontSize\":12,\"paginationPageSize\":100,\"displayType\":\"default\",\"fillOpacity\":1},\"color\":{\"family\":\"scheme1\"},\"hiddenQueryKeys\":[]}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse field=request \"* *://*:*/* HTTP\" as method, protocol, domain, server_port, uri\n| parse regex field=target_group_arn \":(?<region>[^:]+):\\d{6,}:(?<targetgroup>targetgroup.*)$\" nodrop\n| parse field=client \"*:*\" as clientIP, port nodrop\n| parse field=backend \"*:*\" as backendIP, backend_port nodrop\n| fields - request, client, backend\n| where request_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/ and target_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/ and response_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/\n| (request_processing_time+target_processing_time+response_processing_time) as client_latency\n// Need to filter out logs where request_processing_time, target_processing_time, or response_processing_time are -1\n// This means the load balancer can't dispatch the request to a target\n| avg(client_latency) as avg_client_latency, max(client_latency) as max_client_latency by target_group_arn\n| order by max_client_latency",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-3ebb85e685bf1b4f",
                        "title": "Log - Max and Average Target Processing Time by Target Group",
                        "visualSettings": "{\"general\":{\"mode\":\"distribution\",\"type\":\"column\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse field=request \"* *://*:*/* HTTP\" as method, protocol, domain, server_port, uri \n| parse regex field=target_group_arn \":(?<region>[^:]+):\\d{6,}:(?<targetgroup>targetgroup.*)$\" nodrop \n| parse field=client \"*:*\" as clientIP, port nodrop \n| parse field=backend \"*:*\" as backendIP, backend_port nodrop \n| fields - request, client, backend\n| where request_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/ and target_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/ and response_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/\n// Need to filter out logs where request_processing_time, target_processing_time, or response_processing_time are -1\n// This means the load balancer can't dispatch the request to a target\n| avg(target_processing_time) as avg_target_processing_time, max(target_processing_time) as max_target_processing_time by target_group_arn\n| order by max_target_processing_time\n\n",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-c1ca3098892bea40",
                        "title": "Log - Average Total Client Latency Over Time by Target Group",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\",\"type\":\"area\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse field=request \"* *://*:*/* HTTP\" as method, protocol, domain, server_port, uri\n| parse regex field=target_group_arn \":(?<region>[^:]+):\\d{6,}:(?<targetgroup>targetgroup.*)$\" nodrop\n| parse field=client \"*:*\" as clientIP, port nodrop\n| parse field=backend \"*:*\" as backendIP, backend_port nodrop\n| fields - request, client, backend\n| where request_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/ and target_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/ and response_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/\n| (request_processing_time+target_processing_time+response_processing_time) as client_latency\n// Need to filter out logs where request_processing_time, target_processing_time, or response_processing_time are -1\n// This means the load balancer can't dispatch the request to a target\n| timeslice 1m\n| avg(client_latency) as avg_client_latency by target_group_arn ,_timeslice\n| transpose row _timeslice column target_group_arn\n\n",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-c301d958990e694d",
                        "title": "Log - Average Target Processing Time Over Time by Target Group",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\",\"type\":\"area\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse field=request \"* *://*:*/* HTTP\" as method, protocol, domain, server_port, uri \n| parse regex field=target_group_arn \":(?<region>[^:]+):\\d{6,}:(?<targetgroup>targetgroup.*)$\" nodrop\n| parse field=client \"*:*\" as clientIP, port nodrop \n| parse field=backend \"*:*\" as backendIP, backend_port nodrop \n| fields - request, client, backend\n| where request_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/ and target_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/ and response_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/\n// Need to filter out logs where request_processing_time, target_processing_time, or response_processing_time are -1\n// This means the load balancer can't dispatch the request to a target\n| timeslice by 1m\n| avg(target_processing_time) as avg_target_processing_time by _timeslice, target_group_arn\n| transpose row _timeslice column target_group_arn",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    }
                ],
                "variables": [
                    {
                        "id": null,
                        "name": "account",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "",
                            "key": "account"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "region",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}}",
                            "key": "region"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "namespace",
                        "displayName": null,
                        "defaultValue": "aws/applicationelb",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}} region={{region}}",
                            "key": "namespace"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "entity",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}} region={{region}} availabilityzone={{availabilityZone}} namespace={{namespace}}",
                            "key": "entity"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "availabilityZone",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}} region={{region}}",
                            "key": "availabilityzone"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "targetGroup",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "",
                            "key": "targetgroup"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "collector",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "",
                            "key": "_collector"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "sourceHost",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "",
                            "key": "_sourcehost"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    }
                ],
                "coloringRules": []
            },
            "theme": "light",
            "topologyLabelMap": {
                "data": {
                    "namespace": [
                        "aws/applicationelb"
                    ],
                    "region": [
                        "*"
                    ],
                    "entity": [
                        "*"
                    ],
                    "account": [
                        "*"
                    ]
                }
            },
            "refreshInterval": 0,
            "timeRange": {
                "type": "BeginBoundedTimeRange",
                "from": {
                    "type": "RelativeTimeRangeBoundary",
                    "relativeTime": "-1h"
                },
                "to": null
            },
            "layout": null,
            "panels": null,
            "variables": null,
            "coloringRules": null
        },
        {
            "type": "MewboardSyncDefinition",
            "name": "3. AWS Application Load Balancer - Requests, Connection and Host Status",
            "description": "See the details of request and host status including the average unhealthy host count, and healthy host count by target group, availability zone, and load balancer, and request count, outliers in requests by backend, and requests by target.",
            "title": "3. AWS Application Load Balancer - Requests, Connection and Host Status",
            "rootPanel": {
                "id": null,
                "key": "panel55abf9aabadc494e",
                "title": "",
                "visualSettings": "",
                "keepVisualSettingsConsistentWithParent": true,
                "panelType": "ContainerPanel",
                "layout": {
                    "layoutType": "Grid",
                    "layoutStructures": [
                        {
                            "key": "panelpane-4bd7e751a5c76948",
                            "structure": "{\"height\":1,\"width\":8,\"x\":0,\"y\":0}"
                        },
                        {
                            "key": "panelpane-ca9b073fa4ddba41",
                            "structure": "{\"height\":1,\"width\":8,\"x\":8,\"y\":0}"
                        },
                        {
                            "key": "panelpane-d15aa66bb0270847",
                            "structure": "{\"height\":1,\"width\":8,\"x\":16,\"y\":0}"
                        },
                        {
                            "key": "panelpane-15e093d895869b45",
                            "structure": "{\"height\":1,\"width\":12,\"x\":12,\"y\":13}"
                        },
                        {
                            "key": "panelpane-e63eb40dab61094e",
                            "structure": "{\"height\":1,\"width\":12,\"x\":0,\"y\":13}"
                        },
                        {
                            "key": "panelpane-72162e80bf98794a",
                            "structure": "{\"height\":6,\"width\":12,\"x\":0,\"y\":14}"
                        },
                        {
                            "key": "panelpane-3f1a8815a9d09a4f",
                            "structure": "{\"height\":6,\"width\":12,\"x\":0,\"y\":20}"
                        },
                        {
                            "key": "panelpane-58098a538188d943",
                            "structure": "{\"height\":6,\"width\":12,\"x\":0,\"y\":26}"
                        },
                        {
                            "key": "panelpane-724eec8c94dc7b45",
                            "structure": "{\"height\":6,\"width\":12,\"x\":12,\"y\":14}"
                        },
                        {
                            "key": "panelpane-1eaab9618324e84e",
                            "structure": "{\"height\":6,\"width\":12,\"x\":12,\"y\":20}"
                        },
                        {
                            "key": "panelpane-86d1c3739fa96942",
                            "structure": "{\"height\":6,\"width\":12,\"x\":12,\"y\":26}"
                        },
                        {
                            "key": "panelpane-3f69e9d8acb63944",
                            "structure": "{\"height\":6,\"width\":8,\"x\":16,\"y\":1}"
                        },
                        {
                            "key": "panelpane-7efefb2e8d6cdb48",
                            "structure": "{\"height\":6,\"width\":8,\"x\":16,\"y\":7}"
                        },
                        {
                            "key": "panelpane-b0dcb7ce9acff84d",
                            "structure": "{\"height\":6,\"width\":8,\"x\":0,\"y\":1}"
                        },
                        {
                            "key": "panelpane-0a6b3b1a8e6f2a4d",
                            "structure": "{\"height\":6,\"width\":8,\"x\":0,\"y\":7}"
                        },
                        {
                            "key": "panelpane-6f2ed540a3970a41",
                            "structure": "{\"height\":6,\"width\":8,\"x\":8,\"y\":1}"
                        },
                        {
                            "key": "panelpane-256d7e9895990b46",
                            "structure": "{\"height\":6,\"width\":8,\"x\":8,\"y\":7}"
                        },
                        {
                            "key": "panelpane-2fb20d99840ff849",
                            "structure": "{\"height\":6,\"width\":6,\"x\":0,\"y\":33}"
                        },
                        {
                            "key": "panelpane-7836817bb708584c",
                            "structure": "{\"height\":6,\"width\":6,\"x\":6,\"y\":33}"
                        },
                        {
                            "key": "panelpane-9b153d55a89e9849",
                            "structure": "{\"height\":6,\"width\":6,\"x\":18,\"y\":33}"
                        },
                        {
                            "key": "panelpane-0a893b479b02184f",
                            "structure": "{\"height\":6,\"width\":6,\"x\":12,\"y\":33}"
                        },
                        {
                            "key": "panelpane-9924fbd28da5ba42",
                            "structure": "{\"height\":1,\"width\":12,\"x\":0,\"y\":32}"
                        },
                        {
                            "key": "panelpane-856ccc81b4a8b84d",
                            "structure": "{\"height\":1,\"width\":12,\"x\":12,\"y\":32}"
                        }
                    ]
                },
                "panels": [
                    {
                        "id": null,
                        "key": "panelpane-4bd7e751a5c76948",
                        "title": "Active Connections",
                        "visualSettings": "{\"text\":{\"backgroundColor\":\"#abb8c3\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "TextPanel",
                        "text": ""
                    },
                    {
                        "id": null,
                        "key": "panelpane-ca9b073fa4ddba41",
                        "title": "Rejected Connections",
                        "visualSettings": "{\"text\":{\"backgroundColor\":\"#abb8c3\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "TextPanel",
                        "text": ""
                    },
                    {
                        "id": null,
                        "key": "panelpane-d15aa66bb0270847",
                        "title": "Target Connection Errors",
                        "visualSettings": "{\"text\":{\"backgroundColor\":\"#abb8c3\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "TextPanel",
                        "text": ""
                    },
                    {
                        "id": null,
                        "key": "panelpane-15e093d895869b45",
                        "title": "Healthy Hosts",
                        "visualSettings": "{\"text\":{\"backgroundColor\":\"#abb8c3\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "TextPanel",
                        "text": ""
                    },
                    {
                        "id": null,
                        "key": "panelpane-e63eb40dab61094e",
                        "title": "Unhealthy Hosts",
                        "visualSettings": "{\"text\":{\"backgroundColor\":\"#abb8c3\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "TextPanel",
                        "text": ""
                    },
                    {
                        "id": null,
                        "key": "panelpane-72162e80bf98794a",
                        "title": "Average UnHealthyHostCount per Target Group",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=UnHealthyHostCount Statistic=Average _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | parse field= TargetGroup */* as Unused, TargetGroup | avg by TargetGroup ",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": {
                            "type": "BeginBoundedTimeRange",
                            "from": {
                                "type": "RelativeTimeRangeBoundary",
                                "relativeTime": "-1h"
                            },
                            "to": null
                        },
                        "timerange": null,
                        "timerangeTemp": {
                            "type": "BeginBoundedTimeRange",
                            "from": {
                                "type": "RelativeTimeRangeBoundary",
                                "relativeTime": "-1h"
                            },
                            "to": null
                        },
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-3f1a8815a9d09a4f",
                        "title": "Average UnHealthyHostCount per Load Balancer",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=UnHealthyHostCount Statistic=Average  _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | avg by entity,Region",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-58098a538188d943",
                        "title": "Average UnHealthyHostCount per Availability Zone",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=UnHealthyHostCount Statistic=Average _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | avg by AvailabilityZone",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-724eec8c94dc7b45",
                        "title": "Average HealthyHostCount per Target Group",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=HealthyHostCount Statistic=Average _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} account={{account}} entity={{entity}} | parse field= TargetGroup */* as Unused, TargetGroup | avg by TargetGroup",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-1eaab9618324e84e",
                        "title": "Average HealthyHostCount per Load Balancer",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=HealthyHostCount  Statistic=Average  _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} account={{account}} entity={{entity}} | avg by entity,Region",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-86d1c3739fa96942",
                        "title": "Average HealthyHostCount per Availability Zone",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=HealthyHostCount Statistic=Average _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} account={{account}} AvailabilityZone={{availabilityZone}} entity={{entity}}| avg by AvailabilityZone",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-3f69e9d8acb63944",
                        "title": "Target Connection Errors per Availability Zone",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=TargetConnectionErrorCount Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} AvailabilityZone={{availabilityZone}} account={{account}} entity={{entity}} | sum by AvailabilityZone",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-7efefb2e8d6cdb48",
                        "title": "Target Connection Errors per Target Group",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=TargetConnectionErrorCount Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} entity={{entity}} account={{account}} | parse field= TargetGroup */* as Unused, TargetGroup | sum by TargetGroup",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-b0dcb7ce9acff84d",
                        "title": "Active Connection by Load Balancer",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=ActiveConnectionCount Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} entity={{entity}} account={{account}} | sum by entity, region",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-0a6b3b1a8e6f2a4d",
                        "title": "New Connection by Load Balancer",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric= NewConnectionCount Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} entity={{entity}} account={{account}} | sum by entity, region",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-6f2ed540a3970a41",
                        "title": "Rejected Connection by Availability Zone",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric= RejectedConnectionCount Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | sum by AvailabilityZone",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": {
                            "type": "BeginBoundedTimeRange",
                            "from": {
                                "type": "RelativeTimeRangeBoundary",
                                "relativeTime": "-3d"
                            },
                            "to": null
                        },
                        "timerange": null,
                        "timerangeTemp": {
                            "type": "BeginBoundedTimeRange",
                            "from": {
                                "type": "RelativeTimeRangeBoundary",
                                "relativeTime": "-3d"
                            },
                            "to": null
                        },
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-256d7e9895990b46",
                        "title": "Rejected Connection by Load Balancer",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric= RejectedConnectionCount Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | sum by entity",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-2fb20d99840ff849",
                        "title": "Log - Outlier (Decrease) Requests  by Backend",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\",\"type\":\"column\"},\"color\":{\"family\":\"scheme4\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse field=request \"* *://*:*/* HTTP\" as method, protocol, domain, server_port, uri \n| parse regex field=target_group_arn \":(?<region>[^:]+):\\w{3,}:(?<targetgroup>targetgroup.*)$\" nodrop\n| parse field=client \"*:*\" as clientIP, port nodrop \n| parse field=backend \"*:*\" as backendIP, backend_port nodrop \n| fields - request, client, backend\n// Parse all fields above, then aggregate\n| timeslice 1m \n| count by _timeslice,backendIP\n| outlier _count by backendIP threshold=3,direction=- \n| where (_count_violation=1) and (_count_indicator=1)\n| fields _timeslice, backendIP, _count \n| transpose row _timeslice column backendIP",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-7836817bb708584c",
                        "title": "Log - Outlier (Increase) Requests by Backend",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\",\"type\":\"column\",\"fillOpacity\":1},\"color\":{\"family\":\"scheme4\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse field=request \"* *://*:*/* HTTP\" as method, protocol, domain, server_port, uri \n| parse regex field=target_group_arn \":(?<region>[^:]+):\\w{3,}:(?<targetgroup>targetgroup.*)$\" nodrop\n| parse field=client \"*:*\" as clientIP, port nodrop \n| parse field=backend \"*:*\" as backendIP, backend_port nodrop \n| fields - request, client, backend\n// Parse all fields above, then aggregate\n| timeslice 1m \n| count by _timeslice,backendip\n| outlier _count by backendip threshold=3,direction=+ \n| where (_count_violation=1) and (_count_indicator=1)\n| fields _timeslice, backendip, _count \n| transpose row _timeslice column backendip",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-9b153d55a89e9849",
                        "title": "Log - Outlier (Decrease) Requests by Target Group",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\",\"type\":\"column\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse field=request \"* *://*:*/* HTTP\" as method, protocol, domain, server_port, uri \n| parse regex field=target_group_arn \":(?<region>[^:]+):\\w{3,}:(?<targetgroup>targetgroup.*)$\" nodrop\n| parse field=client \"*:*\" as clientIP, port nodrop \n| parse field=backend \"*:*\" as backendIP, backend_port nodrop \n| fields - request, client, backend\n// Parse all fields above, then aggregate\n| timeslice 1m \n| count by _timeslice,target_group_arn\n| outlier _count by target_group_arn threshold=3,direction=+ \n| where (_count_violation=1) and (_count_indicator=1)\n| fields _timeslice, target_group_arn, _count \n| transpose row _timeslice column target_group_arn",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-0a893b479b02184f",
                        "title": "Log - Outlier (Increase) Requests by Target Group",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\",\"type\":\"column\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse field=request \"* *://*:*/* HTTP\" as method, protocol, domain, server_port, uri \n| parse regex field=target_group_arn \":(?<region>[^:]+):\\w{3,}:(?<targetgroup>targetgroup.*)$\" nodrop\n| parse field=client \"*:*\" as clientIP, port nodrop \n| parse field=backend \"*:*\" as backendIP, backend_port nodrop \n| fields - request, client, backend\n// Parse all fields above, then aggregate\n| timeslice 1m \n| count by _timeslice,target_group_arn\n| outlier _count by target_group_arn threshold=3,direction=+ \n| where (_count_violation=1) and (_count_indicator=1)\n| fields _timeslice, target_group_arn, _count \n| transpose row _timeslice column target_group_arn",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-9924fbd28da5ba42",
                        "title": "Log - Requests Variations by Backend",
                        "visualSettings": "{\"text\":{\"backgroundColor\":\"#abb8c3\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "TextPanel",
                        "text": ""
                    },
                    {
                        "id": null,
                        "key": "panelpane-856ccc81b4a8b84d",
                        "title": "Log - Requests Variations by Target Group",
                        "visualSettings": "{\"text\":{\"backgroundColor\":\"#abb8c3\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "TextPanel",
                        "text": ""
                    }
                ],
                "variables": [
                    {
                        "id": null,
                        "name": "account",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "",
                            "key": "account"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "region",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}}",
                            "key": "region"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "namespace",
                        "displayName": null,
                        "defaultValue": "aws/applicationelb",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}} region={{region}}",
                            "key": "namespace"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "entity",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}} region={{region}} availabilityzone={{availabilityZone}} namespace={{namespace}}",
                            "key": "entity"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "availabilityZone",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}} region={{region}}",
                            "key": "availabilityzone"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "targetGroup",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "",
                            "key": "targetgroup"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "collector",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "",
                            "key": "_collector"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "sourceHost",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "",
                            "key": "_sourcehost"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    }
                ],
                "coloringRules": []
            },
            "theme": "light",
            "topologyLabelMap": {
                "data": {
                    "namespace": [
                        "aws/applicationelb"
                    ],
                    "region": [
                        "*"
                    ],
                    "entity": [
                        "*"
                    ],
                    "account": [
                        "*"
                    ]
                }
            },
            "refreshInterval": 0,
            "timeRange": {
                "type": "BeginBoundedTimeRange",
                "from": {
                    "type": "RelativeTimeRangeBoundary",
                    "relativeTime": "-1h"
                },
                "to": null
            },
            "layout": null,
            "panels": null,
            "variables": null,
            "coloringRules": null
        },
        {
            "type": "MewboardSyncDefinition",
            "name": "4. AWS Application Load Balancer - Threat Intel",
            "description": "See the details of IP threats including the count, location, and highly malicious IP threats.",
            "title": "4. AWS Application Load Balancer - Threat Intel",
            "rootPanel": {
                "id": null,
                "key": "panel13952110bef9c84b",
                "title": "",
                "visualSettings": "",
                "keepVisualSettingsConsistentWithParent": true,
                "panelType": "ContainerPanel",
                "layout": {
                    "layoutType": "Grid",
                    "layoutStructures": [
                        {
                            "key": "panelpane-3b762241ac0aba4d",
                            "structure": "{\"height\":6,\"width\":6,\"x\":0,\"y\":0}"
                        },
                        {
                            "key": "panelpane-c08479a8a0390b4d",
                            "structure": "{\"height\":6,\"width\":18,\"x\":6,\"y\":6}"
                        },
                        {
                            "key": "panelpane-b8ffc92b8b722a41",
                            "structure": "{\"height\":6,\"width\":24,\"x\":0,\"y\":12}"
                        },
                        {
                            "key": "panelpane-382cdd568e5a3b4c",
                            "structure": "{\"height\":6,\"width\":8,\"x\":6,\"y\":0}"
                        },
                        {
                            "key": "panelpane-c605d948852ffb48",
                            "structure": "{\"height\":6,\"width\":10,\"x\":14,\"y\":0}"
                        },
                        {
                            "key": "panelpane-17aaa50d9919b844",
                            "structure": "{\"height\":6,\"width\":6,\"x\":0,\"y\":6}"
                        }
                    ]
                },
                "panels": [
                    {
                        "id": null,
                        "key": "panelpane-3b762241ac0aba4d",
                        "title": "All IP Threat Count",
                        "visualSettings": "{\"general\":{\"type\":\"svp\"},\"svp\":{\"option\":\"Sum\",\"label\":\"Threats\",\"thresholds\":[{\"from\":null,\"to\":null,\"color\":\"#16943E\"},{\"from\":null,\"to\":null,\"color\":\"#DFBE2E\"},{\"from\":null,\"to\":null,\"color\":\"#BF2121\"}],\"valueFontSize\":20,\"labelFontSize\":8,\"sparkline\":{\"show\":false,\"color\":\"#222D3B\"},\"gauge\":{\"show\":false,\"min\":0,\"max\":100}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse regex \"(?<ip_address>\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})\" multi\n| where ip_address != \"0.0.0.0\" and ip_address != \"127.0.0.1\"\n| count as ip_count by ip_address\n| lookup type, actor, raw, threatlevel as malicious_confidence from sumo://threat/cs on threat=ip_address \n| json field=raw \"labels[*].name\" as label_name \n| replace(label_name, \"\\\\/\",\"->\") as label_name\n| replace(label_name, \"\\\"\",\" \") as label_name\n| where  type=\"ip_address\" and !isNull(malicious_confidence)\n| if (isEmpty(actor), \"Unassigned\", actor) as Actor\n|sum (ip_count) as threat_count",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-c08479a8a0390b4d",
                        "title": "Highly Malicious IP Threats Table",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\",\"type\":\"table\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse regex \"(?<ip_address>\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})\" multi\n| where ip_address != \"0.0.0.0\" and ip_address != \"127.0.0.1\"\n| timeslice 5m\n| count as ip_count by ip_address, _sourceCategory\n| lookup type, actor, raw, threatlevel as malicious_confidence from sumo://threat/cs on threat=ip_address \n| json field=raw \"labels[*].name\" as label_name \n| replace(label_name, \"\\\\/\",\"->\") as label_name\n| replace(label_name, \"\\\"\",\" \") as label_name\n| where  type=\"ip_address\" and malicious_confidence=\"high\"\n| if (isEmpty(actor), \"Unassigned\", actor) as Actor\n| sum (ip_count) as threat_count by ip_address, malicious_confidence, Actor,  _sourceCategory, label_name\n| sort by threat_count",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-b8ffc92b8b722a41",
                        "title": "All IP Threats Table",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\",\"type\":\"table\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse regex \"(?<ip_address>\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})\" multi\n| where ip_address != \"0.0.0.0\" and ip_address != \"127.0.0.1\"\n| timeslice 5m\n| count as ip_count by ip_address, _sourceCategory\n| lookup type, actor, raw, threatlevel as malicious_confidence from sumo://threat/cs on threat=ip_address \n| json field=raw \"labels[*].name\" as label_name \n| replace(label_name, \"\\\\/\",\"->\") as label_name\n| replace(label_name, \"\\\"\",\" \") as label_name\n| where  type=\"ip_address\" and !isNull(malicious_confidence)\n| if (isEmpty(actor), \"Unassigned\", actor) as Actor\n| sum (ip_count) as threat_count by ip_address, malicious_confidence, Actor,  _sourceCategory, label_name\n| sort by threat_count",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-382cdd568e5a3b4c",
                        "title": "Top IPs",
                        "visualSettings": "{\"general\":{\"mode\":\"distribution\",\"type\":\"pie\",\"fillOpacity\":1,\"innerRadius\":30,\"maxNumOfSlices\":11,\"startAngle\":-90},\"legend\":{\"enabled\":false}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse regex \"(?<ip_address>\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})\" multi\n| where ip_address != \"0.0.0.0\" and ip_address != \"127.0.0.1\"\n| count as ip_count by ip_address\n| lookup type, actor, raw, threatlevel as malicious_confidence from sumo://threat/cs on threat=ip_address \n| json field=raw \"labels[*].name\" as label_name \n| replace(label_name, \"\\\\/\",\"->\") as label_name\n| replace(label_name, \"\\\"\",\" \") as label_name\n| where  type=\"ip_address\" and !isNull(malicious_confidence)\n| if (isEmpty(actor), \"Unassigned\", actor) as Actor\n| count by ip_address | limit 10",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-c605d948852ffb48",
                        "title": "Malicious Confidence",
                        "visualSettings": "{\"general\":{\"mode\":\"distribution\",\"type\":\"bar\"},\"legend\":{\"enabled\":false}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse regex \"(?<ip_address>\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})\" multi\n| where ip_address != \"0.0.0.0\" and ip_address != \"127.0.0.1\"\n| count as ip_count by ip_address, _sourceCategory\n| lookup type, actor, raw, threatlevel as malicious_confidence from sumo://threat/cs on threat=ip_address \n| json field=raw \"labels[*].name\" as label_name \n| replace(label_name, \"\\\\/\",\"->\") as label_name\n| replace(label_name, \"\\\"\",\" \") as label_name\n| where  type=\"ip_address\"\n| if (isEmpty(actor), \"Unassigned\", actor) as Actor\n| count by malicious_confidence",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-17aaa50d9919b844",
                        "title": "Highly Vulnerable Load Balancers",
                        "visualSettings": "{\"general\":{\"mode\":\"distribution\",\"type\":\"pie\",\"displayType\":\"default\",\"outlierBandColor\":\"#FDECF5\",\"outlierBandMarkerColor\":\"#ED3CPE\",\"outlierBandFillOpacity\":0.15,\"outlierBandLineThickness\":2,\"outlierBandMarkerSize\":10,\"outlierBandMarkerType\":\"triangle\",\"fillOpacity\":1,\"startAngle\":270,\"innerRadius\":\"50%\",\"maxNumOfSlices\":10},\"title\":{\"fontSize\":16},\"legend\":{\"enabled\":false}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse regex \"(?<ip_address>\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})\" multi\n| where ip_address != \"0.0.0.0\" and ip_address != \"127.0.0.1\"\n| timeslice 5m\n| count as ip_count by ip_address, _sourceCategory, entity\n| lookup type, actor, raw, threatlevel as malicious_confidence from sumo://threat/cs on threat=ip_address \n| json field=raw \"labels[*].name\" as label_name \n| replace(label_name, \"\\\\/\",\"->\") as label_name\n| replace(label_name, \"\\\"\",\" \") as label_name\n| where  type=\"ip_address\" and malicious_confidence=\"high\"\n| if (isEmpty(actor), \"Unassigned\", actor) as Actor\n| sum (ip_count) as threat_count by entity\n| sort by threat_count",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    }
                ],
                "variables": [
                    {
                        "id": null,
                        "name": "account",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "",
                            "key": "account"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "region",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}}",
                            "key": "region"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "namespace",
                        "displayName": null,
                        "defaultValue": "aws/applicationelb",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}} region={{region}}",
                            "key": "namespace"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "entity",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}} region={{region}} namespace={{namespace}}",
                            "key": "entity"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    }
                ],
                "coloringRules": []
            },
            "theme": "light",
            "topologyLabelMap": {
                "data": {
                    "namespace": [
                        "aws/applicationelb"
                    ],
                    "region": [
                        "*"
                    ],
                    "entity": [
                        "*"
                    ],
                    "account": [
                        "*"
                    ]
                }
            },
            "refreshInterval": 0,
            "timeRange": {
                "type": "BeginBoundedTimeRange",
                "from": {
                    "type": "RelativeTimeRangeBoundary",
                    "relativeTime": "-1h"
                },
                "to": null
            },
            "layout": null,
            "panels": null,
            "variables": null,
            "coloringRules": null
        },
        {
            "type": "MewboardSyncDefinition",
            "name": "5. AWS Application Load Balancer - HTTP Load Balancer Codes",
            "description": "See the details of the Load Balancer HTTP codes 3XX, 4XX, and 5XX by availability zone, and load balancer.",
            "title": "5. AWS Application Load Balancer - HTTP Load Balancer Codes",
            "rootPanel": {
                "id": null,
                "key": "panela05e6440b229b947",
                "title": "",
                "visualSettings": "",
                "keepVisualSettingsConsistentWithParent": true,
                "panelType": "ContainerPanel",
                "layout": {
                    "layoutType": "Grid",
                    "layoutStructures": [
                        {
                            "key": "panelpane-324e4d89b8342b4c",
                            "structure": "{\"height\":6,\"width\":12,\"x\":12,\"y\":1}"
                        },
                        {
                            "key": "panelpane-946172659bb33842",
                            "structure": "{\"height\":6,\"width\":12,\"x\":0,\"y\":1}"
                        },
                        {
                            "key": "panelpane-cc227207bb7b9a49",
                            "structure": "{\"height\":6,\"width\":12,\"x\":12,\"y\":7}"
                        },
                        {
                            "key": "panelpane-95868bf190531a4f",
                            "structure": "{\"height\":6,\"width\":12,\"x\":0,\"y\":7}"
                        },
                        {
                            "key": "panelpane-df0bee50aa3a7843",
                            "structure": "{\"height\":6,\"width\":12,\"x\":0,\"y\":14}"
                        },
                        {
                            "key": "panelpane-c345e1478011cb46",
                            "structure": "{\"height\":6,\"width\":12,\"x\":12,\"y\":14}"
                        },
                        {
                            "key": "panelpane-7019f42a9d1ec94f",
                            "structure": "{\"height\":1,\"width\":12,\"x\":0,\"y\":0}"
                        },
                        {
                            "key": "panelpane-0fccdcc9945dea45",
                            "structure": "{\"height\":1,\"width\":12,\"x\":12,\"y\":0}"
                        },
                        {
                            "key": "panelpane-943784b09429ea47",
                            "structure": "{\"height\":1,\"width\":24,\"x\":0,\"y\":13}"
                        }
                    ]
                },
                "panels": [
                    {
                        "id": null,
                        "key": "panelpane-324e4d89b8342b4c",
                        "title": "HTTP Load Balancer 4XX Count per Availability Zone",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"color\":{\"family\":\"scheme7\"},\"axes\":{\"axisY\":{\"title\":\"4XX Count\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=HTTPCode_ELB_4XX_Count Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | sum by AvailabilityZone",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-946172659bb33842",
                        "title": "HTTP Load Balancer 5XX Count per Availability Zone",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"color\":{\"family\":\"scheme7\"},\"axes\":{\"axisY\":{\"title\":\"5XX Count\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=HTTPCode_ELB_5XX_Count Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | sum by AvailabilityZone",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-cc227207bb7b9a49",
                        "title": "HTTP Load Balancer 4XX Count per Load Balancer",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"color\":{\"family\":\"scheme7\"},\"axes\":{\"axisY\":{\"title\":\"4XX Count\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=HTTPCode_ELB_4XX_Count Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | sum by entity, Region",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-95868bf190531a4f",
                        "title": "HTTP Load Balancer 5XX Count per Load Balancer",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"color\":{\"family\":\"scheme7\"},\"axes\":{\"axisY\":{\"title\":\"5XX Count\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=HTTPCode_ELB_5XX_Count Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | sum by entity",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-df0bee50aa3a7843",
                        "title": "HTTP Load Balancer 3XX Count per Availability Zone",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"color\":{\"family\":\"scheme7\"},\"axes\":{\"axisY\":{\"title\":\"3XX Count\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=HTTPCode_ELB_3XX_Count  Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | sum by AvailabilityZone",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-c345e1478011cb46",
                        "title": "HTTP Load Balancer 3XX Count per Load Balancer",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"color\":{\"family\":\"scheme7\"},\"axes\":{\"axisY\":{\"title\":\"3XX Count\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=HTTPCode_ELB_3XX_Count Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | sum by entity,Region",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-7019f42a9d1ec94f",
                        "title": "Load Balancer 5XX Codes",
                        "visualSettings": "{\"text\":{\"backgroundColor\":\"#ff0000\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "TextPanel",
                        "text": ""
                    },
                    {
                        "id": null,
                        "key": "panelpane-0fccdcc9945dea45",
                        "title": "Load Balancer 4XX Codes",
                        "visualSettings": "{\"text\":{\"backgroundColor\":\"#ffa500\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "TextPanel",
                        "text": ""
                    },
                    {
                        "id": null,
                        "key": "panelpane-943784b09429ea47",
                        "title": "Load Balancer 3XX Codes",
                        "visualSettings": "{\"text\":{\"backgroundColor\":\"#ffff00\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "TextPanel",
                        "text": ""
                    }
                ],
                "variables": [
                    {
                        "id": null,
                        "name": "account",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "",
                            "key": "account"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "region",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}}",
                            "key": "region"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "namespace",
                        "displayName": null,
                        "defaultValue": "aws/applicationelb",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}} region={{region}}",
                            "key": "namespace"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "entity",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}} region={{region}} availabilityzone={{availabilityZone}} namespace={{namespace}}",
                            "key": "entity"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "availabilityZone",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}} region={{region}}",
                            "key": "availabilityzone"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "targetGroup",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "",
                            "key": "targetgroup"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "collector",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "",
                            "key": "_collector"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "sourceHost",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "",
                            "key": "_sourcehost"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    }
                ],
                "coloringRules": []
            },
            "theme": "light",
            "topologyLabelMap": {
                "data": {
                    "namespace": [
                        "aws/applicationelb"
                    ],
                    "region": [
                        "*"
                    ],
                    "entity": [
                        "*"
                    ],
                    "account": [
                        "*"
                    ]
                }
            },
            "refreshInterval": 0,
            "timeRange": {
                "type": "BeginBoundedTimeRange",
                "from": {
                    "type": "RelativeTimeRangeBoundary",
                    "relativeTime": "-1h"
                },
                "to": null
            },
            "layout": null,
            "panels": null,
            "variables": null,
            "coloringRules": null
        },
        {
            "type": "MewboardSyncDefinition",
            "name": "6. AWS Application Load Balancer - HTTP Target Group Codes",
            "description": "See the details of the Target Group HTTP codes 2XX, 3XX, 4XX, and 5XX by target group, availability zone, and load balancer.",
            "title": "6. AWS Application Load Balancer - HTTP Target Group Codes",
            "rootPanel": {
                "id": null,
                "key": "panela05e6440b229b947",
                "title": "",
                "visualSettings": "",
                "keepVisualSettingsConsistentWithParent": true,
                "panelType": "ContainerPanel",
                "layout": {
                    "layoutType": "Grid",
                    "layoutStructures": [
                        {
                            "key": "panelpane-617147f58fe4aa4d",
                            "structure": "{\"height\":6,\"width\":8,\"x\":8,\"y\":1}"
                        },
                        {
                            "key": "panelpane-9fc9904b8ee32a4d",
                            "structure": "{\"height\":6,\"width\":8,\"x\":0,\"y\":1}"
                        },
                        {
                            "key": "panelpane-324e4d89b8342b4c",
                            "structure": "{\"height\":6,\"width\":8,\"x\":8,\"y\":7}"
                        },
                        {
                            "key": "panelpane-946172659bb33842",
                            "structure": "{\"height\":6,\"width\":8,\"x\":0,\"y\":7}"
                        },
                        {
                            "key": "panelpane-cc227207bb7b9a49",
                            "structure": "{\"height\":6,\"width\":8,\"x\":8,\"y\":13}"
                        },
                        {
                            "key": "panelpane-95868bf190531a4f",
                            "structure": "{\"height\":6,\"width\":8,\"x\":0,\"y\":13}"
                        },
                        {
                            "key": "panelpane-a22028d4a6d3ba4b",
                            "structure": "{\"height\":6,\"width\":8,\"x\":16,\"y\":7}"
                        },
                        {
                            "key": "panelpane-df0bee50aa3a7843",
                            "structure": "{\"height\":6,\"width\":8,\"x\":8,\"y\":20}"
                        },
                        {
                            "key": "panelpane-57c7fb6b8c962945",
                            "structure": "{\"height\":6,\"width\":8,\"x\":16,\"y\":13}"
                        },
                        {
                            "key": "panelpane-c345e1478011cb46",
                            "structure": "{\"height\":6,\"width\":8,\"x\":16,\"y\":20}"
                        },
                        {
                            "key": "panelpane-5fd17cc393166840",
                            "structure": "{\"height\":6,\"width\":8,\"x\":16,\"y\":1}"
                        },
                        {
                            "key": "panelpane-7019f42a9d1ec94f",
                            "structure": "{\"height\":1,\"width\":8,\"x\":0,\"y\":0}"
                        },
                        {
                            "key": "panelpane-0fccdcc9945dea45",
                            "structure": "{\"height\":1,\"width\":8,\"x\":8,\"y\":0}"
                        },
                        {
                            "key": "panelpane-6ce12d998fa50847",
                            "structure": "{\"height\":1,\"width\":8,\"x\":16,\"y\":0}"
                        },
                        {
                            "key": "panelpane-943784b09429ea47",
                            "structure": "{\"height\":1,\"width\":24,\"x\":0,\"y\":19}"
                        },
                        {
                            "key": "panelpane-591bf0609b0e684b",
                            "structure": "{\"height\":6,\"width\":8,\"x\":0,\"y\":20}"
                        }
                    ]
                },
                "panels": [
                    {
                        "id": null,
                        "key": "panelpane-617147f58fe4aa4d",
                        "title": "HTTP Target 4XX Count per Target Group",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"color\":{\"family\":\"scheme7\"},\"axes\":{\"axisY\":{\"title\":\"4XX Count\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=HTTPCode_Target_4XX_Count Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | parse field= TargetGroup */* as Unused, TargetGroup | sum by TargetGroup ",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-9fc9904b8ee32a4d",
                        "title": "HTTP Target 5XX Count per Target Group",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"color\":{\"family\":\"scheme7\"},\"axes\":{\"axisY\":{\"title\":\"5XX Count\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=HTTPCode_Target_5XX_Count Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | parse field= TargetGroup */* as Unused, TargetGroup | sum by TargetGroup ",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-324e4d89b8342b4c",
                        "title": "HTTP Target 4XX Count per Availability Zone",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"color\":{\"family\":\"scheme7\"},\"axes\":{\"axisY\":{\"title\":\"4XX Count\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=HTTPCode_Target_4XX_Count Statistic=Sum  _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | sum by AvailabilityZone",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-946172659bb33842",
                        "title": "HTTP Target 5XX Count per Availability Zone",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"color\":{\"family\":\"scheme7\"},\"axes\":{\"axisY\":{\"title\":\"5XX Count\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc  Namespace={{namespace}} metric=HTTPCode_Target_5XX_Count Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | sum by AvailabilityZone",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-cc227207bb7b9a49",
                        "title": "HTTP Target 4XX Count per Load Balancer",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"color\":{\"family\":\"scheme7\"},\"axes\":{\"axisY\":{\"title\":\"4XX Count\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=HTTPCode_Target_4XX_Count Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | sum by entity, Region",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-95868bf190531a4f",
                        "title": "HTTP Target 5XX Count per Load Balancer",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"color\":{\"family\":\"scheme7\"},\"axes\":{\"axisY\":{\"title\":\"5XX Count\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=HTTPCode_Target_5XX_Count Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | sum by entity",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-a22028d4a6d3ba4b",
                        "title": "HTTP Target 2XX Count per Availability Zone",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"color\":{\"family\":\"scheme7\"},\"axes\":{\"axisY\":{\"title\":\"2XX Count\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=HTTPCode_Target_2XX_Count Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | sum by AvailabilityZone",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-df0bee50aa3a7843",
                        "title": "HTTP Target 3XX Count per Availability Zone",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"color\":{\"family\":\"scheme7\"},\"axes\":{\"axisY\":{\"title\":\"3XX Count\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=HTTPCode_Target_3XX_Count  Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | sum by AvailabilityZone",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-57c7fb6b8c962945",
                        "title": "HTTP Target 2XX Count per Load Balancer",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"color\":{\"family\":\"scheme7\"},\"axes\":{\"axisY\":{\"title\":\"2XX Count\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=HTTPCode_Target_2XX_Count  Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | sum by entity,Region",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-c345e1478011cb46",
                        "title": "HTTP Target 3XX Count per Load Balancer",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"color\":{\"family\":\"scheme7\"},\"axes\":{\"axisY\":{\"title\":\"3XX Count\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=HTTPCode_Target_3XX_Count Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | sum by entity,Region",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-5fd17cc393166840",
                        "title": "HTTP Target 2XX Count per Target Group",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"color\":{\"family\":\"scheme7\"},\"axes\":{\"axisY\":{\"title\":\"2XX Count\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=HTTPCode_Target_2XX_Count Statistic=Sum  _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | parse field= TargetGroup */* as Unused, TargetGroup | sum by TargetGroup ",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-7019f42a9d1ec94f",
                        "title": "Target Group 5XX Codes",
                        "visualSettings": "{\"text\":{\"backgroundColor\":\"#ff0000\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "TextPanel",
                        "text": ""
                    },
                    {
                        "id": null,
                        "key": "panelpane-0fccdcc9945dea45",
                        "title": "Target Group 4XX Codes",
                        "visualSettings": "{\"text\":{\"backgroundColor\":\"#ffa500\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "TextPanel",
                        "text": ""
                    },
                    {
                        "id": null,
                        "key": "panelpane-6ce12d998fa50847",
                        "title": "Target Group 2XX Codes",
                        "visualSettings": "{\"text\":{\"backgroundColor\":\"#008000\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "TextPanel",
                        "text": ""
                    },
                    {
                        "id": null,
                        "key": "panelpane-943784b09429ea47",
                        "title": "Target Group 3XX Codes",
                        "visualSettings": "{\"text\":{\"backgroundColor\":\"#ffc508\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "TextPanel",
                        "text": ""
                    },
                    {
                        "id": null,
                        "key": "panelpane-591bf0609b0e684b",
                        "title": "HTTP Target 3XX Count per Target Group",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"color\":{\"family\":\"scheme7\"},\"axes\":{\"axisY\":{\"title\":\"3XX Count\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=HTTPCode_Target_3XX_Count Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | parse field= TargetGroup */* as Unused, TargetGroup | sum by TargetGroup ",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    }
                ],
                "variables": [
                    {
                        "id": null,
                        "name": "account",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "",
                            "key": "account"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "region",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}}",
                            "key": "region"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "namespace",
                        "displayName": null,
                        "defaultValue": "aws/applicationelb",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}} region={{region}}",
                            "key": "namespace"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "entity",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}} region={{region}} availabilityzone={{availabilityZone}} namespace={{namespace}}",
                            "key": "entity"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "availabilityZone",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}} region={{region}}",
                            "key": "availabilityzone"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "targetGroup",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "",
                            "key": "targetgroup"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "collector",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "",
                            "key": "_collector"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "sourceHost",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "",
                            "key": "_sourcehost"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    }
                ],
                "coloringRules": []
            },
            "theme": "light",
            "topologyLabelMap": {
                "data": {
                    "namespace": [
                        "aws/applicationelb"
                    ],
                    "region": [
                        "*"
                    ],
                    "entity": [
                        "*"
                    ],
                    "account": [
                        "*"
                    ]
                }
            },
            "refreshInterval": 0,
            "timeRange": {
                "type": "BeginBoundedTimeRange",
                "from": {
                    "type": "RelativeTimeRangeBoundary",
                    "relativeTime": "-1h"
                },
                "to": null
            },
            "layout": null,
            "panels": null,
            "variables": null,
            "coloringRules": null
        },
        {
            "type": "MewboardSyncDefinition",
            "name": "7. AWS Application Load Balancer - Other Latency Analysis",
            "description": "See the details of latency in your application load balancer including the average and maximum request and response processing time, by target group and ELB server.",
            "title": "7. AWS Application Load Balancer - Other Latency Analysis",
            "rootPanel": {
                "id": null,
                "key": "panelac78d988bc359843",
                "title": "",
                "visualSettings": "",
                "keepVisualSettingsConsistentWithParent": true,
                "panelType": "ContainerPanel",
                "layout": {
                    "layoutType": "Grid",
                    "layoutStructures": [
                        {
                            "key": "panelpane-e21d1869af8bbb43",
                            "structure": "{\"height\":6,\"width\":24,\"x\":0,\"y\":0}"
                        },
                        {
                            "key": "panelpane-50edccbfa1cd8b4f",
                            "structure": "{\"height\":6,\"width\":12,\"x\":0,\"y\":6}"
                        },
                        {
                            "key": "panelpane-39d07f8699151b42",
                            "structure": "{\"height\":6,\"width\":12,\"x\":12,\"y\":6}"
                        },
                        {
                            "key": "panelpane-9ce61eae9fc92848",
                            "structure": "{\"height\":6,\"width\":12,\"x\":0,\"y\":12}"
                        },
                        {
                            "key": "panelpane-6fda9ea0b259db4f",
                            "structure": "{\"height\":6,\"width\":12,\"x\":12,\"y\":12}"
                        },
                        {
                            "key": "panelpane-256726aaafcdba4d",
                            "structure": "{\"height\":6,\"width\":12,\"x\":0,\"y\":24}"
                        },
                        {
                            "key": "panelpane-d9489b8ebd5daa4c",
                            "structure": "{\"height\":6,\"width\":12,\"x\":0,\"y\":18}"
                        },
                        {
                            "key": "panelpane-1653c598a95c7846",
                            "structure": "{\"height\":6,\"width\":12,\"x\":12,\"y\":24}"
                        },
                        {
                            "key": "panelpane-fee25a48afe96841",
                            "structure": "{\"height\":6,\"width\":12,\"x\":12,\"y\":18}"
                        },
                        {
                            "key": "panelpane-9fa04ab689a4594a",
                            "structure": "{\"height\":5,\"width\":24,\"x\":0,\"y\":30}"
                        }
                    ]
                },
                "panels": [
                    {
                        "id": null,
                        "key": "panelpane-e21d1869af8bbb43",
                        "title": "Defintions",
                        "visualSettings": "{\"text\":{\"format\":\"markdown\",\"backgroundColor\":\"#ffffff\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "TextPanel",
                        "text": "#### All Time units are in Seconds\n\n#### **Client Latency** = ( request_processing_time + backend_processing_time + response_processing_time)\n\n#### **request_processing_time** = The total time elapsed from the time the load balancer received the request until the time it sent it to a registered instance.\n\n#### **response_processing_time** = The total time elapsed from the time the load balancer received the response header from the registered instance until it started to send the response to the client. This includes both the queuing time at the load balancer and the connection acquisition time from the load balancer to the back end.\n\n#### **backend_processing_time** = The total time elapsed from the time the load balancer sent the request to a registered instance until the instance started to send the response headers."
                    },
                    {
                        "id": null,
                        "key": "panelpane-50edccbfa1cd8b4f",
                        "title": "Log - Client Latency by Domain",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"color\":{\"family\":\"scheme3\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse field=request \"* *://*:*/* HTTP\" as method, protocol, domain, server_port, uri \n| parse field=target_group_arn \"* \" as target_group_arn nodrop \n| parse field=client \"*:*\" as clientIP, port nodrop \n| parse field=backend \"*:*\" as backendIP, backend_port nodrop \n| fields - request, client, backend\n| where request_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/ and target_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/ and response_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/\n// Need to filter out logs where request_processing_time, target_processing_time, or response_processing_time are -1\n// This means the load balancer can't dispatch the request to a target\n| timeslice by 1m\n| avg(request_processing_time) as a1, avg(target_processing_time) as a2,avg(response_processing_time) as a3 by _timeslice, domain \n| (a1+a2+a3) as total_process_time\n| fields _timeslice,domain,total_process_time \n| transpose row _timeslice column domain\n",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-39d07f8699151b42",
                        "title": "Log - Client Latency by ELB Server",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"color\":{\"family\":\"scheme3\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse field=request \"* *://*:*/* HTTP\" as method, protocol, domain, server_port, uri \n| parse field=target_group_arn \"* \" as target_group_arn nodrop \n| parse field=client \"*:*\" as clientIP, port nodrop \n| parse field=backend \"*:*\" as backendIP, backend_port nodrop \n| fields - request, client, backend\n// Need to filter out logs where request_processing_time, target_processing_time, or response_processing_time are -1\n// This means the load balancer can't dispatch the request to a target\n| where request_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/ and target_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/ and response_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/\n| timeslice by 15m\n| avg(request_processing_time) as a1, avg(target_processing_time) as a2,avg(response_processing_time) as a3 by _timeslice, entity \n| (a1+a2+a3) as total_process_time\n| fields _timeslice,entity,total_process_time \n| transpose row _timeslice column entity\n",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-9ce61eae9fc92848",
                        "title": "Log - Average Request Processing Time by ELB Server",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\",\"type\":\"column\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse field=request \"* *://*:*/* HTTP\" as method, protocol, domain, server_port, uri \n| parse field=target_group_arn \"* \" as target_group_arn nodrop \n| parse field=client \"*:*\" as clientIP, port nodrop \n| parse field=backend \"*:*\" as backendIP, backend_port nodrop \n| fields - request, client, backend\n// Need to filter out logs where request_processing_time, target_processing_time, or response_processing_time are -1\n// This means the load balancer can't dispatch the request to a target\n| where request_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/ and target_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/ and response_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/\n| timeslice by 1m\n| avg(request_processing_time) as avg_req_processing_time by _timeslice, entity\n| transpose row _timeslice column entity",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-6fda9ea0b259db4f",
                        "title": "Log - Average Response Processing Time by ELB Server",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\",\"type\":\"column\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse field=request \"* *://*:*/* HTTP\" as method, protocol, domain, server_port, uri \n| parse field=target_group_arn \"* \" as target_group_arn nodrop \n| parse field=client \"*:*\" as clientIP, port nodrop \n| parse field=backend \"*:*\" as backendIP, backend_port nodrop \n| fields - request, client, backend\n// Need to filter out logs where request_processing_time, target_processing_time, or response_processing_time are -1\n// This means the load balancer can't dispatch the request to a target\n| where request_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/ and target_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/ and response_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/\n| timeslice by 1m\n| avg(response_processing_time) as avg_resp_processing_time by _timeslice, entity\n| transpose row _timeslice column entity\n",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-256726aaafcdba4d",
                        "title": "Log - Average Request Processing Time by Target Group",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\",\"type\":\"column\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse field=request \"* *://*:*/* HTTP\" as method, protocol, domain, server_port, uri \n| parse field=target_group_arn \"* \" as target_group_arn nodrop \n| parse field=client \"*:*\" as clientIP, port nodrop \n| parse field=backend \"*:*\" as backendIP, backend_port nodrop \n| fields - request, client, backend\n// Need to filter out logs where request_processing_time, target_processing_time, or response_processing_time are -1\n// This means the load balancer can't dispatch the request to a target\n| where request_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/ and target_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/ and response_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/\n| timeslice by 1m\n| avg(request_processing_time) as avg_req_processing_time by _timeslice, target_group_arn\n| transpose row _timeslice column target_group_arn\n",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-d9489b8ebd5daa4c",
                        "title": "Log - Max Request Processing Time by ELB Server",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse field=request \"* *://*:*/* HTTP\" as method, protocol, domain, server_port, uri \n| parse field=target_group_arn \"* \" as target_group_arn nodrop \n| parse field=client \"*:*\" as clientIP, port nodrop \n| parse field=backend \"*:*\" as backendIP, backend_port nodrop \n| fields - request, client, backend\n// Need to filter out logs where request_processing_time, target_processing_time, or response_processing_time are -1\n// This means the load balancer can't dispatch the request to a target\n| where request_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/ and target_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/ and response_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/\n| timeslice by 1m\n| max(request_processing_time) as max_req_processing_time by _timeslice, entity\n| transpose row _timeslice column entity\n",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-1653c598a95c7846",
                        "title": "Log - Average Response Processing Time by Target Group",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\",\"type\":\"column\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse field=request \"* *://*:*/* HTTP\" as method, protocol, domain, server_port, uri \n| parse field=target_group_arn \"* \" as target_group_arn nodrop \n| parse field=client \"*:*\" as clientIP, port nodrop \n| parse field=backend \"*:*\" as backendIP, backend_port nodrop \n| fields - request, client, backend\n// Need to filter out logs where request_processing_time, target_processing_time, or response_processing_time are -1\n// This means the load balancer can't dispatch the request to a target\n| where request_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/ and target_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/ and response_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/\n| timeslice by 1m\n| avg(response_processing_time) as max_resp_processing_time by _timeslice, target_group_arn\n| transpose row _timeslice column target_group_arn\n",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-fee25a48afe96841",
                        "title": "Log - Max Response Processing Time by ELB Server",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse field=request \"* *://*:*/* HTTP\" as method, protocol, domain, server_port, uri \n| parse field=target_group_arn \"* \" as target_group_arn nodrop \n| parse field=client \"*:*\" as clientIP, port nodrop \n| parse field=backend \"*:*\" as backendIP, backend_port nodrop \n| fields - request, client, backend\n// Need to filter out logs where request_processing_time, target_processing_time, or response_processing_time are -1\n// This means the load balancer can't dispatch the request to a target\n| where request_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/ and target_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/ and response_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/\n| timeslice by 1m\n| max(response_processing_time) as max_resp_processing_time by _timeslice, entity\n| transpose row _timeslice column entity\n",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-9fa04ab689a4594a",
                        "title": "Log - Top 20 Client Latency by Paths",
                        "visualSettings": "{\"general\":{\"mode\":\"distribution\",\"type\":\"table\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$logsrc account={{account}} region={{region}} namespace={{namespace}}\n| parse \"* * * * * * * * * * * * \\\"*\\\" \\\"*\\\" * * * \\\"*\\\"\" as type, datetime, entity, client, backend, request_processing_time, target_processing_time, response_processing_time, elb_status_code, target_status_code, received_bytes, sent_bytes, request,user_agent,ssl_cipher,ssl_protocol,target_group_arn,trace_id\n| where tolowercase(entity) matches \"{{entity}}\"\n| parse field=request \"* *://*:*/* HTTP\" as method, protocol, domain, server_port, uri\n| parse field=target_group_arn \"* \" as target_group_arn nodrop\n| parse field=client \"*:*\" as clientIP, port nodrop\n| parse field=backend \"*:*\" as backendIP, backend_port nodrop\n| fields - request, client, backend\n// Need to filter out logs where request_processing_time, target_processing_time, or response_processing_time are -1\n// This means the load balancer can't dispatch the request to a target\n| where request_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/ and target_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/ and response_processing_time matches /^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$/\n| avg(request_processing_time) as a1, avg(target_processing_time) as a2,avg(response_processing_time) as a3 by uri\n| (a1+a2+a3) as total_process_time\n| fields uri,total_process_time \n| sort by total_process_time \n| limit 20\n\n",
                                "queryType": "Logs",
                                "queryKey": "A",
                                "metricsQueryMode": null,
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    }
                ],
                "variables": [
                    {
                        "id": null,
                        "name": "account",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "",
                            "key": "account"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "region",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}}",
                            "key": "region"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "namespace",
                        "displayName": null,
                        "defaultValue": "aws/applicationelb",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}} region={{region}}",
                            "key": "namespace"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "entity",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}} region={{region}} namespace={{namespace}}",
                            "key": "entity"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    }
                ],
                "coloringRules": []
            },
            "theme": "light",
            "topologyLabelMap": {
                "data": {
                    "namespace": [
                        "aws/applicationelb"
                    ],
                    "region": [
                        "*"
                    ],
                    "entity": [
                        "*"
                    ],
                    "account": [
                        "*"
                    ]
                }
            },
            "refreshInterval": 0,
            "timeRange": {
                "type": "BeginBoundedTimeRange",
                "from": {
                    "type": "RelativeTimeRangeBoundary",
                    "relativeTime": "-1h"
                },
                "to": null
            },
            "layout": null,
            "panels": null,
            "variables": null,
            "coloringRules": null
        },
        {
            "type": "MewboardSyncDefinition",
            "name": "AWS Application Load Balancer - Overview",
            "description": "See the overview of Application load balancer including the requests, healthy and unhealthy host count, target response time, active connections, and client TLS error.",
            "title": "AWS Application Load Balancer - Overview",
            "rootPanel": {
                "id": null,
                "key": "panel8508592596f07b44",
                "title": "",
                "visualSettings": "",
                "keepVisualSettingsConsistentWithParent": true,
                "panelType": "ContainerPanel",
                "layout": {
                    "layoutType": "Grid",
                    "layoutStructures": [
                        {
                            "key": "panelpane-1b6c3f98bd2fa94a",
                            "structure": "{\"height\":5,\"width\":4,\"x\":0,\"y\":6}"
                        },
                        {
                            "key": "panelpane-b28e428595aa7841",
                            "structure": "{\"height\":5,\"width\":4,\"x\":4,\"y\":6}"
                        },
                        {
                            "key": "panelpane-3c5686918c144a48",
                            "structure": "{\"height\":5,\"width\":4,\"x\":16,\"y\":6}"
                        },
                        {
                            "key": "panelpane-01a4cebc9d796a44",
                            "structure": "{\"height\":5,\"width\":4,\"x\":12,\"y\":6}"
                        },
                        {
                            "key": "panelpane-5d596c23a60d9b43",
                            "structure": "{\"height\":5,\"width\":4,\"x\":8,\"y\":6}"
                        },
                        {
                            "key": "panelpane-5711200884094842",
                            "structure": "{\"height\":5,\"width\":4,\"x\":20,\"y\":6}"
                        },
                        {
                            "key": "panelpane-f8e1e750b651c843",
                            "structure": "{\"height\":6,\"width\":12,\"x\":12,\"y\":23}"
                        },
                        {
                            "key": "panelpane-3919c994a29d9b4a",
                            "structure": "{\"height\":6,\"width\":12,\"x\":12,\"y\":11}"
                        },
                        {
                            "key": "panelpane-8bc14602b330b840",
                            "structure": "{\"height\":6,\"width\":12,\"x\":0,\"y\":23}"
                        },
                        {
                            "key": "panelpane-a85a375997f94a44",
                            "structure": "{\"height\":6,\"width\":12,\"x\":0,\"y\":11}"
                        },
                        {
                            "key": "panelpane-ed2772e08225f840",
                            "structure": "{\"height\":6,\"width\":24,\"x\":0,\"y\":0}"
                        },
                        {
                            "key": "panelpane-dfd251cd8f6e2a4b",
                            "structure": "{\"height\":6,\"width\":12,\"x\":0,\"y\":17}"
                        },
                        {
                            "key": "panelpane-97c80ce1b96ed948",
                            "structure": "{\"height\":6,\"width\":12,\"x\":12,\"y\":17}"
                        }
                    ]
                },
                "panels": [
                    {
                        "id": null,
                        "key": "panelpane-1b6c3f98bd2fa94a",
                        "title": "Healthy Hosts",
                        "visualSettings": "{\"general\":{\"type\":\"svp\"},\"svp\":{\"option\":\"Latest\",\"valueFontSize\":20,\"thresholds\":[{\"from\":null,\"to\":null,\"color\":\"#16943E\"},{\"from\":null,\"to\":null,\"color\":\"#DFBE2E\"},{\"from\":null,\"to\":null,\"color\":\"#BF2121\"}],\"labelFontSize\":8,\"label\":\"Healthy Hosts\",\"rounding\":0,\"sparkline\":{\"show\":true,\"color\":\"\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric= HealthyHostCount Statistic=Average _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | sum by metric",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-b28e428595aa7841",
                        "title": "UnHealthy Hosts",
                        "visualSettings": "{\"general\":{\"type\":\"svp\"},\"svp\":{\"option\":\"Latest\",\"thresholds\":[{\"from\":null,\"to\":null,\"color\":\"#16943E\"},{\"from\":null,\"to\":null,\"color\":\"#DFBE2E\"},{\"from\":null,\"to\":null,\"color\":\"#BF2121\"}],\"label\":\"Unhealthy Hosts\",\"valueFontSize\":20,\"labelFontSize\":8,\"sparkline\":{\"show\":true,\"color\":\"\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric= UnHealthyHostCount Statistic=Average _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | sum",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-3c5686918c144a48",
                        "title": "Target Connection Errors",
                        "visualSettings": "{\"general\":{\"type\":\"svp\"},\"svp\":{\"option\":\"Sum\",\"label\":\"Target Connection Errors\",\"thresholds\":[{\"from\":0,\"to\":10,\"color\":\"#008000\"},{\"from\":10,\"to\":20,\"color\":\"#ffc508\"},{\"from\":20,\"to\":null,\"color\":\"#ff0000\"}],\"valueFontSize\":20,\"labelFontSize\":8,\"noDataString\":\"0\",\"rounding\":0,\"sparkline\":{\"show\":true,\"color\":\"\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric= TargetConnectionErrorCount Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | sum",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-01a4cebc9d796a44",
                        "title": "New Connection",
                        "visualSettings": "{\"general\":{\"type\":\"svp\"},\"svp\":{\"option\":\"Latest\",\"label\":\"New Connections\",\"thresholds\":[{\"from\":null,\"to\":null,\"color\":\"#16943E\"},{\"from\":null,\"to\":null,\"color\":\"#DFBE2E\"},{\"from\":null,\"to\":null,\"color\":\"#BF2121\"}],\"valueFontSize\":20,\"labelFontSize\":8,\"noDataString\":\"0\",\"sparkline\":{\"show\":true,\"color\":\"\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric= NewConnectionCount Statistic=Sum  _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} entity={{entity}} account={{account}} | sum",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-5d596c23a60d9b43",
                        "title": "Active Connections",
                        "visualSettings": "{\"general\":{\"type\":\"svp\"},\"svp\":{\"option\":\"Latest\",\"label\":\"Active Connections\",\"thresholds\":[{\"from\":null,\"to\":null,\"color\":\"#16943E\"},{\"from\":null,\"to\":null,\"color\":\"#DFBE2E\"},{\"from\":null,\"to\":null,\"color\":\"#BF2121\"}],\"valueFontSize\":20,\"labelFontSize\":8,\"noDataString\":\"0\",\"sparkline\":{\"show\":true,\"color\":\"\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric= ActiveConnectionCount Statistic=Sum  _sourcehost={{sourceHost}} _collector={{collector}} region={{region}}  entity={{entity}} account={{account}} | sum by metric",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-5711200884094842",
                        "title": "Rejected Connection",
                        "visualSettings": "{\"general\":{\"type\":\"svp\"},\"svp\":{\"option\":\"Latest\",\"label\":\"Rejected Connections\",\"thresholds\":[{\"from\":null,\"to\":null,\"color\":\"#16943E\"},{\"from\":null,\"to\":null,\"color\":\"#DFBE2E\"},{\"from\":null,\"to\":null,\"color\":\"#BF2121\"}],\"valueFontSize\":20,\"labelFontSize\":8,\"noDataString\":\"0\",\"sparkline\":{\"show\":true,\"color\":\"\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric= RejectedConnectionCount Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} entity={{entity}} account={{account}} | sum by metric",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-f8e1e750b651c843",
                        "title": "Sum of Client TLS Errors by Availability Zone",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"axes\":{\"axisY\":{\"title\":\"Errors\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=ClientTLSNegotiationErrorCount  Statistic=sum  _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} AvailabilityZone={{availabilityZone}} account={{account}} entity={{entity}} | sum by AvailabilityZone",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-3919c994a29d9b4a",
                        "title": "Overall Average Healthy vs Unhealthy Host Count",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"axes\":{\"axisY\":{\"title\":\"Host Count\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=*HealthyHostCount Statistic=Average  _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | avg by metric",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-8bc14602b330b840",
                        "title": "Sum of Active Connections by Load Balancer",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\"},\"axes\":{\"axisY\":{\"title\":\"Active Connections\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=ActiveConnectionCount Statistic=sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} entity={{entity}} account={{account}} | sum by entity",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-a85a375997f94a44",
                        "title": "Load Balancers by Region",
                        "visualSettings": "{\"title\":{\"fontSize\":16},\"general\":{\"type\":\"pie\",\"displayType\":\"default\",\"fillOpacity\":1,\"startAngle\":270,\"innerRadius\":\"10%\",\"maxNumOfSlices\":10,\"mode\":\"distribution\"},\"legend\":{\"enabled\":false}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | count by entity",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-ed2772e08225f840",
                        "title": "Request Count per Load Balancer",
                        "visualSettings": "{\"title\":{\"fontSize\":16},\"general\":{\"type\":\"column\",\"displayType\":\"stacked\",\"fillOpacity\":1,\"mode\":\"timeSeries\"},\"legend\":{\"enabled\":true,\"verticalAlign\":\"bottom\",\"fontSize\":12,\"maxHeight\":50,\"showAsTable\":false,\"wrap\":true},\"color\":{\"family\":\"scheme9\",\"overrides\":[]},\"axes\":{\"axisY\":{\"title\":\"Request Count\"}}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=RequestCount Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} AvailabilityZone={{availabilityZone}} account={{account}} entity={{entity}} | sum by entity",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-dfd251cd8f6e2a4b",
                        "title": "Load Balancers Errors",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\",\"type\":\"line\",\"displayType\":\"default\",\"outlierBandColor\":\"#FDECF5\",\"outlierBandMarkerColor\":\"#ED3CPE\",\"outlierBandFillOpacity\":0.15,\"outlierBandLineThickness\":2,\"outlierBandMarkerSize\":10,\"outlierBandMarkerType\":\"triangle\",\"markerSize\":0,\"lineDashType\":\"solid\",\"markerType\":\"none\",\"lineThickness\":3},\"title\":{\"fontSize\":16},\"axes\":{\"axisX\":{\"title\":\"\",\"titleFontSize\":11,\"labelFontSize\":10},\"axisY\":{\"title\":\"\",\"titleFontSize\":11,\"labelFontSize\":12,\"logarithmic\":false,\"gridColor\":\"#dde4e9\"}},\"legend\":{\"enabled\":true,\"verticalAlign\":\"bottom\",\"fontSize\":12,\"maxHeight\":50,\"showAsTable\":false,\"wrap\":true},\"color\":{\"family\":\"scheme9\"},\"hiddenQueryKeys\":[]}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric= HTTPCode_ELB_504_Count Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | avg",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            },
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric= HTTPCode_ELB_502_Count Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | avg",
                                "queryType": "Metrics",
                                "queryKey": "B",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            },
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric= HTTPCode_ELB_500_Count Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | avg",
                                "queryType": "Metrics",
                                "queryKey": "C",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            },
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric= HTTPCode_ELB_503_Count Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | avg",
                                "queryType": "Metrics",
                                "queryKey": "D",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    },
                    {
                        "id": null,
                        "key": "panelpane-97c80ce1b96ed948",
                        "title": "4XX and 5XX Errors",
                        "visualSettings": "{\"general\":{\"mode\":\"timeSeries\",\"type\":\"line\",\"displayType\":\"default\",\"outlierBandColor\":\"#FDECF5\",\"outlierBandMarkerColor\":\"#ED3CPE\",\"outlierBandFillOpacity\":0.15,\"outlierBandLineThickness\":2,\"outlierBandMarkerSize\":10,\"outlierBandMarkerType\":\"triangle\",\"markerSize\":0,\"lineDashType\":\"solid\",\"markerType\":\"none\",\"lineThickness\":3},\"title\":{\"fontSize\":16},\"axes\":{\"axisX\":{\"title\":\"\",\"titleFontSize\":11,\"labelFontSize\":10},\"axisY\":{\"title\":\"\",\"titleFontSize\":11,\"labelFontSize\":12,\"logarithmic\":false,\"gridColor\":\"#dde4e9\"}},\"legend\":{\"enabled\":true,\"verticalAlign\":\"bottom\",\"fontSize\":12,\"maxHeight\":50,\"showAsTable\":false,\"wrap\":true},\"color\":{\"family\":\"scheme9\"}}",
                        "keepVisualSettingsConsistentWithParent": true,
                        "panelType": "SumoSearchPanel",
                        "queries": [
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=HTTPCode_ELB_4XX_Count Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | avg",
                                "queryType": "Metrics",
                                "queryKey": "A",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            },
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=HTTPCode_ELB_5XX_Count Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | avg",
                                "queryType": "Metrics",
                                "queryKey": "B",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            },
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=HTTPCode_Target_5XX_Count Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | avg",
                                "queryType": "Metrics",
                                "queryKey": "C",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            },
                            {
                                "queryString": "$$metricsrc Namespace={{namespace}} metric=HTTPCode_Target_4XX_Count Statistic=Sum _sourcehost={{sourceHost}} _collector={{collector}} region={{region}} targetgroup={{targetGroup}} AvailabilityZone={{availabilityZone}} entity={{entity}} account={{account}} | avg",
                                "queryType": "Metrics",
                                "queryKey": "D",
                                "metricsQueryMode": "advanced",
                                "metricsQueryData": null
                            }
                        ],
                        "description": "",
                        "timeRange": null,
                        "timerange": null,
                        "timerangeTemp": null,
                        "coloringRules": null,
                        "linkedDashboards": []
                    }
                ],
                "variables": [
                    {
                        "id": null,
                        "name": "account",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "",
                            "key": "account"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "region",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}}",
                            "key": "region"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "namespace",
                        "displayName": null,
                        "defaultValue": "aws/applicationelb",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}} region={{region}}",
                            "key": "namespace"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "entity",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}} region={{region}} availabilityzone={{availabilityZone}} namespace={{namespace}}",
                            "key": "entity"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "availabilityZone",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "account={{account}} region={{region}}",
                            "key": "availabilityzone"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "targetGroup",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "",
                            "key": "targetgroup"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "collector",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "",
                            "key": "_collector"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    },
                    {
                        "id": null,
                        "name": "sourceHost",
                        "displayName": null,
                        "defaultValue": "*",
                        "sourceDefinition": {
                            "variableSourceType": "MagellanMetadataVariableSourceDefinition",
                            "filter": "",
                            "key": "_sourcehost"
                        },
                        "allowMultiSelect": false,
                        "includeAllOption": true,
                        "hideFromUI": false
                    }
                ],
                "coloringRules": []
            },
            "theme": "light",
            "topologyLabelMap": {
                "data": {
                    "namespace": [
                        "aws/applicationelb"
                    ],
                    "region": [
                        "*"
                    ],
                    "account": [
                        "*"
                    ]
                }
            },
            "refreshInterval": 0,
            "timeRange": {
                "type": "BeginBoundedTimeRange",
                "from": {
                    "type": "RelativeTimeRangeBoundary",
                    "relativeTime": "-1h"
                },
                "to": null
            },
            "layout": null,
            "panels": null,
            "variables": null,
            "coloringRules": null
        }
    ]
}